<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <h2 class="my-4">All Students</h2>

            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Matric Number</th>
                        <th>Institution</th>
                        <th>Email</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <% students.forEach(student => { %>
                        <tr>
                            <td><%= student.name %></td>
                            <td><%= student.matricNumber %></td>
                            <td><%= student.institution?.name || 'N/A' %></td>
                            <td><%= student.email %></td>
                            <td>
                                <a href="/student/<%= student._id %>/bank-details" class="btn btn-sm btn-info">
                                    View Bank
                                </a>
                            </td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>

            <% if (totalPages > 1) { %>
                <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-center mt-4">
                        <% if (currentPage > 1) { %>
                            <li class="page-item">
                                <a class="page-link" href="?page=<%= currentPage - 1 %>">Previous</a>
                            </li>
                        <% } %>

                        <% for (let i = 1; i <= totalPages; i++) { %>
                            <li class="page-item <%= i === currentPage ? 'active' : '' %>">
                                <a class="page-link" href="?page=<%= i %>"><%= i %></a>
                            </li>
                        <% } %>

                        <% if (currentPage < totalPages) { %>
                            <li class="page-item">
                                <a class="page-link" href="?page=<%= currentPage + 1 %>">Next</a>
                            </li>
                        <% } %>
                    </ul>
                </nav>
            <% } %>
        </div>
    </div>
</div>
