<section class="container my-5">
  <div class="text-center mb-4">
    <h2>Lecturer Registration</h2>
    <p>Create your lecturer account</p>
  </section>

  <%- include('../partials/notification.ejs') %>

  <div class="row justify-content-center">
    <div class="col-md-6">
      <form action="/auth/register" method="post">
        <input type="hidden" name="role" value="lecturer">

        <div class="form-group mb-3">
          <label for="name">Your Fullname</label>
          <input type="text" class="form-control" id="name"
          name="name"
          placeholder="Full name of Lecturer"
          required>
        </div>

        <div class="form-group mb-3">
          <label for="email">Institutional Email</label>
          <input type="email" class="form-control" id="email"
            name="email"
            placeholder="lecturer@school.edu.ng"
            required>
        </div>

        <div class="form-group mb-3">
          <label for="staffId">Staff ID</label>
          <input type="text" class="form-control" id="staffId"
            name="staffId"
            placeholder="Enter your staff ID"
            required>
        </div>

        <div class="form-group mb-3">
          <label for="institution">Select Institution</label>
          <select class="form-control" id="institution" 
                  name="institution" 
                  required>
            <option value="">Choose your institution</option>
            <% institutions.forEach(function(institution) { %>
              <option value="<%= institution._id %>"><%= institution.name %></option>
            <% }); %>
          </select>
        </div>

        <div class="form-group mb-3">
          <label for="password">Password</label>
          <input type="password" class="form-control" 
                 name="password" 
                 minlength="6" 
                 placeholder="Create a password (minimum 6 characters)" 
                 required>
        </div>

        <div class="form-group mb-3">
          <label for="confirmPassword">Confirm Password</label>
          <input type="password" class="form-control" 
                 id="confirmPassword" 
                 minlength="6" 
                 placeholder="Repeat your password" 
                 required>
        </div>

        <div class="d-grid">
          <button type="submit" class="btn btn-primary">Create Lecturer Account</button>
        </div>
      </form>

      <div class="text-center mt-3">
        <p>Already have an account? <a href="/auth/signin">Sign In</a></p>
      </div>
    </div>
  </div>
</section>

<script>
document.querySelector('form').addEventListener('submit', function(event) {
  const password = this.querySelector('input[name="password"]').value;
  const confirmPassword = document.getElementById('confirmPassword').value;

  if (password !== confirmPassword) {
    event.preventDefault();
    alert('Passwords do not match');
  }
});
</script>
